
<div class="container">

  <!-- Barre de recherche et filtres -->
  <div class="search-filters">
    <div class="search-bar">
      <input 
        type="text" 
        [(ngModel)]="searchQuery"
        placeholder="Rechercher un conseil..." 
      />
      <button (click)="searchConseils()">ğŸ” Rechercher</button>
    </div>
    
    <div class="categories-filter">
      <button 
        *ngFor="let cat of categories"
        [class.active]="selectedCategorie === cat"
        (click)="filterByCategorie(cat)"
      >
        {{ cat }}
      </button>
    </div>
  </div>

  <!-- Indicateur de chargement -->
  <div *ngIf="loading" class="loading">
    <p>â³ Chargement des conseils...</p>
  </div>

  <!-- Message d'erreur -->
  <div *ngIf="error && !loading" class="error">
    <p>âŒ {{ error }}</p>
    <button (click)="loadConseils()" class="btn-retry">ğŸ”„ RÃ©essayer</button>
  </div>

  <!-- Grille des articles -->
  <div *ngIf="!loading && !error && conseils.length > 0" class="articles-grid">
    <div 
      *ngFor="let conseil of conseils" 
      class="article-card"
    >
      <!-- Image ou placeholder -->
      <div class="article-image">
        <img 
          *ngIf="conseil.imageUrl" 
          [src]="conseil.imageUrl" 
          [alt]="conseil.titre"
          onerror="this.style.display='none'"
        />
        <div *ngIf="!conseil.imageUrl" class="image-placeholder">
          <span class="placeholder-icon">ğŸ“„</span>
        </div>
      </div>
      
      <!-- Contenu de l'article -->
      <div class="article-content">
        <div class="article-meta">
          <span>ğŸ‘¤ {{ conseil.auteur }}</span>
          <span>ğŸ“… {{ formatDate(conseil.datePublication) }}</span>
        </div>
        
        <h3 class="article-title">{{ conseil.titre }}</h3>
        
        <p class="article-excerpt">
          {{ conseil.contenu?.substring(0, 150) }}...
        </p>
        
        <!-- Tags -->
        <div class="article-tags">
          <span 
            *ngFor="let tag of conseil.tags" 
            [ngClass]="['tag', getTagClass(tag)]"
          >
            {{ tag }}
          </span>
        </div>
        
        <!-- Footer avec vues -->
        <div class="article-footer">
          <span class="views">ğŸ‘ï¸ {{ conseil.nombreVues || 0 }} vues</span>
          <a href="#" class="read-more" (click)="$event.preventDefault()">
            Lire plus â†’
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Message aucun rÃ©sultat -->
  <div *ngIf="!loading && !error && conseils.length === 0" class="no-results">
    <div class="no-results-icon">ğŸ”</div>
    <h3>Aucun conseil trouvÃ©</h3>
    <p>Essayez de modifier vos critÃ¨res de recherche</p>
    <button (click)="loadConseils()" class="btn-reset">
      ğŸ”„ RÃ©initialiser
    </button>
  </div>
</div>

